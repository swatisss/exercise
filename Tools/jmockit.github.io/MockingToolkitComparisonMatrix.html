<!DOCTYPE html>
<!--
  ~ Copyright (c) 2006-2014 Rogério Liesenfeld
  ~ This file is subject to the terms of the MIT license (see LICENSE.txt).
  -->
<html>
<head>
   <title>JMockit - Mocking Toolkit Comparison Matrix</title>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <meta name="description" content="A feature matrix comparing several mocking toolkits.">
   <link rel="stylesheet" type="text/css" href="prettify.css"/>
   <link rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
   <style>
      table { border-bottom: 1px solid; border-right: 1px solid; }
      thead th { border-left: 1px solid; border-bottom: 1px solid; }
      td { border-top: 1px solid; border-left: 1px solid; }
      tbody td, tfoot td { text-align: center; }
      tfoot { font-weight: bolder; }
      .feature { text-align: left; border-left: none; }
      .totals td { border-top: 2px solid; }
   </style>
</head>
<body>
<h1 class="header">
   <a href="index.html">JMockit</a>
   <span>The Mock <span>Anything</span> Toolkit for Java</span>
</h1>
<table class="navBar"><tr>
   <th><a href="gettingStarted.html">Getting&nbsp;started</a></th>
   <th><a href="about.html">About</a></th>
   <th><a href="tutorial.html">Tutorial</a></th>
   <th><a href="samples.html">Samples</a></th>
   <th><a href="api1x/index.html">API</a></th>
   <th><a href="http://github.com/jmockit/jmockit1">Source</a></th>
   <th><a href="http://github.com/jmockit/jmockit1/issues">Issues</a></th>
   <th><a href="community.html">Community</a></th>
   <th><a href="changes.html">History</a></th>
</tr></table>
<br/>
<table cellspacing="0">
<caption>Features</caption>
<colgroup>
   <col width="30%">
   <col width="9%">
   <col width="9%">
   <col width="9%">
   <col width="9%">
   <col width="13%">
   <col width="12%">
   <col width="9%">
</colgroup>
<thead>
   <tr>
      <th class="feature">Feature</th>
      <th><a href="http://easymock.org">EasyMock</a></th>
      <th><a href="http://jmock.org">jMock</a></th>
      <th><a href="http://mockito.org">Mockito</a></th>
      <th><a href="http://www.unitils.org/summary.html">Unitils Mock</a></th>
      <th><a href="http://code.google.com/p/powermock">PowerMock<br>(EasyMock)</a></th>
      <th><a href="http://code.google.com/p/powermock">PowerMock<br>(Mockito)</a></th>
      <th><a href="http://jmockit.org">JMockit</a></th>
   </tr>
</thead>
<tbody>
   <tr>
      <td class="feature">
         <a href="tutorial/BehaviorBasedTesting.html#constraints">Invocation count constraints</a>
      </td>
      <td>√</td> <td>√</td> <td>√</td> <td></td> <td>√</td> <td>√</td> <td>√</td>
   </tr>
   <tr>
      <td class="feature"><a href="#Recording_strict_expectations">Recording strict expectations</a></td>
      <td>√</td> <td>√</td> <td></td> <td></td> <td>√</td> <td></td> <td>√</td>
   </tr>
   <tr>
      <td class="feature"><a href="#Explicit_verification">Explicit verification</a></td>
      <td></td> <td></td> <td>√</td> <td>√</td> <td></td> <td>√</td> <td>√</td>
   </tr>
   <tr>
      <td class="feature"><a href="tutorial/BehaviorBasedTesting.html#partial">Partial mocking</a></td>
      <td>√</td> <td></td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td>
   </tr>
   <tr>
      <td class="feature">
         <a href="#Easier_argument_matching_based_on_properties_of_value_objects">
            Easier argument matching based on properties of value objects
         </a>
      </td>
      <td>√</td> <td></td> <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td>√</td>
   </tr>
   <tr>
      <td class="feature">
         <a href="tutorial/BehaviorBasedTesting.html#cascading">Cascading mocks</a>
      </td>
      <td></td> <td></td> <td>√</td> <td>√</td> <td></td> <td>√</td> <td>√</td>
   </tr>
   <tr>
      <td class="feature">
         <a href="tutorial/BehaviorBasedTesting.html#multipleInterfaces">Mocking of multiple interfaces</a>
      </td>
      <td></td> <td></td> <td>√</td> <td></td> <td></td> <td>√</td> <td>√</td>
   </tr>
   <tr>
      <td class="feature">
         <a href="http://github.com/jmockit/jmockit1/blob/master/main/test/mockit/MockedAnnotationsTest.java">
            Mocking of annotation types
         </a>
      </td>
      <td></td> <td>√</td> <td>√</td> <td>√</td> <td></td> <td>√</td> <td>√</td>
   </tr>
   <tr>
      <td class="feature">
         <a href="tutorial/BehaviorBasedTesting.html#partiallyOrdered">Partially ordered expectations</a>
      </td>
      <td></td> <td>√</td> <td></td> <td></td> <td></td> <td></td> <td>√</td>
   </tr>
   <tr>
      <td class="feature">
         <a href="tutorial/BehaviorBasedTesting.html#tested">Auto-injection of mocks</a>
      </td>
      <td></td> <td></td> <td>√</td> <td>√</td> <td></td> <td>√</td> <td>√</td>
   </tr>
   <tr>
      <td class="feature">
         <a href="http://github.com/jmockit/jmockit1/blob/master/main/test/mockit/MockedEnumsTest.java">
            Mocking of enums
         </a>
      </td>
      <td></td> <td></td> <td></td> <td></td> <td>√</td> <td>√</td> <td>√</td>
   </tr>
   <tr>
      <td class="feature">
         <a href="tutorial/BehaviorBasedTesting.html#mocked">Declarative mocks for test methods (mock parameters)</a>
      </td>
      <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td>√</td>
   </tr>
   <tr>
      <td class="feature">
         <a href="tutorial/BehaviorBasedTesting.html#capturing">Mocking of unspecified implementation classes</a>
      </td>
      <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td>√</td>
   </tr>
   <tr>
      <td class="feature">
         <a href="tutorial/StateBasedTesting.html">"Duck typing" mocks for state-based & integration tests</a>
      </td>
      <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td>√</td>
   </tr>
</tbody>
<tfoot>
   <tr class="totals">
      <td class="feature">Total</td>
      <td>4/14</td> <td>4/14</td> <td>8/14</td> <td>6/14</td> <td>5/14</td> <td>9/14</td> <td>14/14</td>
   </tr>
</tfoot>
</table>
<br>
<table cellspacing="0">
<caption>Qualities</caption>
<colgroup>
   <col width="30%">
   <col width="9%">
   <col width="9%">
   <col width="9%">
   <col width="9%">
   <col width="13%">
   <col width="12%">
   <col width="9%">
</colgroup>
<thead>
   <tr>
      <th class="feature">Quality</th>
      <th><a href="http://easymock.org">EasyMock</a></th>
      <th><a href="http://jmock.org">jMock</a></th>
      <th><a href="http://mockito.org">Mockito</a></th>
      <th><a href="http://www.unitils.org/summary.html">Unitils Mock</a></th>
      <th><a href="http://code.google.com/p/powermock">PowerMock<br>(EasyMock)</a></th>
      <th><a href="http://code.google.com/p/powermock">PowerMock<br>(Mockito)</a></th>
      <th><a href="http://jmockit.org">JMockit</a></th>
   </tr>
</thead>
<tbody>
   <tr>
      <td class="feature">
         <a href="tutorial/BehaviorBasedTesting.html#argumentMatching">Argument matchers</a>
         for some parameters only, not all
      </td>
      <td></td> <td></td> <td></td> <td>√</td> <td></td> <td></td> <td>√</td>
   </tr>
   <tr>
      <td class="feature">
         <a href="#No_method_call_to_switch_from_record_to_replay">No method call to switch from record to replay</a>
      </td>
      <td></td> <td></td> <td>√</td> <td>√</td> <td></td> <td>√</td> <td>√</td>
   </tr>
   <tr>
      <td class="feature">
         <a href="#No_extra_code_for_implicit_verification">No extra code for implicit verification</a>
      </td>
      <td></td> <td></td> <td>N/A</td> <td>N/A</td> <td></td> <td>N/A</td> <td>√</td>
   </tr>
   <tr>
      <td class="feature">No extra "prepare for test" code</td>
      <td>√</td> <td>√</td> <td>√</td> <td>√</td> <td></td> <td></td> <td>√</td>
   </tr>
   <tr>
      <td class="feature">No need to use <code>@RunWith</code> annotation or base test class</td>
      <td>√</td> <td>√</td> <td>√</td> <td></td> <td></td> <td></td> <td>√</td>
   </tr>
   <tr>
      <td class="feature">Consistent syntax between <code>void</code> and non-<code>void</code> methods</td>
      <td></td> <td>√</td> <td></td> <td>√</td> <td></td> <td></td> <td>√</td>
   </tr>
   <tr>
      <td class="feature">Mocking of constructors and final/static/private methods</td>
      <td></td> <td></td> <td></td> <td></td> <td>√</td> <td>√</td> <td>√</td>
   </tr>
   <tr>
      <td class="feature">Mocking of "new-ed" objects</td>
      <td></td> <td></td> <td></td> <td></td> <td>√</td> <td>√</td> <td>√</td>
   </tr>
   <tr>
      <td class="feature">
         <a href="http://github.com/jmockit/jmockit1/blob/master/main/test/mockit/CovariantReturnTypesTest.java">
            Support for covariant return types
         </a>
      </td>
      <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td>√</td>
   </tr>
   <tr>
      <td class="feature">Single jar file in the classpath is sufficient to use mocking API</td>
      <td></td> <td></td> <td>√</td> <td></td> <td>N/A</td> <td>N/A</td> <td>√</td>
   </tr>
</tbody>
<tfoot>
   <tr class="totals">
      <td class="feature">Total</td>
      <td>2/10</td> <td>3/10</td> <td>4/9</td> <td>4/9</td> <td>2/9</td> <td>3/8</td> <td>10/10</td>
   </tr>
</tfoot>
</table>

<h3 id="Recording_strict_expectations">Recording strict expectations</h3>
<p>
   Invocations that <em>must</em> occur only as specified can be explicitly recorded using <em>strict</em> expectations.
   Some mocking APIs only support the recording of expectations that are <em>not</em> strict, while also supporting the
   explicit verification of matching invocations <em>after</em> the call to the class under test.
   JMockit supports both models in a seamless API.
</p>

<h3 id="Explicit_verification">Explicit verification</h3>
<p>
   Strict expectations are always verified implicitly and automatically.
   For those that are not recorded strictly (regular or non-strict expectations), invocations can be explicitly verified
   after the unit under test was exercised.
</p>

<h3 id="No_method_call_to_switch_from_record_to_replay">No method call to switch from record to replay</h3>
<p>
   Expectations are recorded before the unit under test is exercised, at which time they will (potentially) be replayed.
   Some mocking APIs have a special method that needs to be explicitly called in the test method, so that the toolkit
   will know that when the next invocation occurs it will be a "replayed" one, instead of another recording.
   (In EasyMock, this special method is <code>replay(mock)</code> or <code>replayAll()</code>;
   in jMock, it's <code>checking(expectations)</code>.)
</p>

<h3 id="No_extra_code_for_implicit_verification">No extra code for implicit verification</h3>
<p>
   Some mocking APIs, like EasyMock and jMock, require extra code to enable the verification of missing invocations at
   the end of a test.
   In the case of EasyMock, a <code>verify(mock)</code> or <code>verifyAll()</code> method call is required in each test
   method.
   With jMock, one of the following alternatives is needed: 1) a JUnit 3.8 test class needs to extend
   <code>MockObjectTest</code>; 2) a JUnit 4 test class must be annotated with <code>@RunWith(JMock.class)</code>;
   or 3) the <code>Mockery#assertIsSatisfied()</code> method needs to be called at the end of each test method.
   The Mockito and Unitils Mock APIs do not support implicit verification at all, so this item isn't applicable.
</p>

<h3 id="Easier_argument_matching_based_on_properties_of_value_objects">
   Easier argument matching based on properties of value objects
</h3>
<p>
   Sometimes an invocation argument is an object containing one or more properties of interest, which must have their
   values at replay time verified in the test.
   Custom matchers (which all mocking APIs allow without significant differences) provide the ability to implement
   argument matching behavior of any complexity, and can therefore be used in this situation.
   The problem, though, is that it takes too much code to create a new matcher class.
   There are three alternative approaches to deal with this issue in a behavior-oriented mocking API:
   1) make deep copies of invocation arguments and then compare the property values in the two instances through
   reflection;
   2) allow argument values to be captured into special objects or variables which can later be verified through regular
   assertions; and
   3) verify arguments through regular assertions in a custom validation method executed for each matching invocation.
   Approach 1 is used by <a href="http://www.unitils.org/tutorial.html#Testing_with_mock_objects">Unitils Mock</a>.
   Approach 2 is provided by EasyMock and Mockito, and therefore also available when using PowerMock.
   JMockit supports approaches 2 and 3, through the
   <a href="tutorial/BehaviorBasedTesting.html#withCapture">withCapture()</a> method and
   <a href="tutorial/BehaviorBasedTesting.html#delegates">Delegate</a> objects, respectively.
</p>

<div class="footer">
   Get help from the <a href="http://groups.google.com/group/jmockit-users">JMockit Users Group</a> or
   <a href="http://stackoverflow.com/questions/tagged/jmockit">Stack Overflow</a>.
</div>
</body>
</html>
